花了两个晚上通宵，在开源项目epycon 的基础上，增加web界面方便执行，同时间踩过了N个坑。从V1一路迭代到V68.1版。真是巨坑。现在通宵后的第一个中午承记忆犹新
总结如下：
一、epycon 源代码相关的bug 和大坑
1.找到epycon的论文pdf里面说明的epycon 的使用方式在目前1.0.2 版本估计已被重构，且github上没有任何相关的说明，重点是目前YAML的是json格式包装的，按原先的似乎不行。这是重点之一。
2.是epycon的代码里面不知道怎么考虑的都是转换小文件么定义的数组居然是32位的，频繁报错。用包装代码进行二次修正的方案各种出错，被迫还是对源代码进行了修改。
3.兼容性问题，源代码估计是在Linux或者Mac 下开发或者运行的？系统估计也是英文字符集，在处理过程中运行起来后马上就碰到了乱码问题，Workmate导出的数据问题不涉及到字符处理，问题不大，但是在entries的解析中各种问题，乱码不断，在AI的帮助下，发现用iso字符集导入，即纯英文导入后依然有乱码，然后发现有些编码的Group是sys/debug/INK等所谓的系统噪音，过滤后依然有一部分乱码，然后这里就发现了一个python处理数据的问题，python的struct似乎二进制读取时候没有任何甄别，所以即便用英文字符集，过滤掉噪声，依然有部分意义不明的字符集这些在EP的软件中是看不到的，所以又加上了语义信噪比的过滤，就是将不太可能是标注语义的字符进行过滤，终于得到了目前相对比较可行的web-ui ，
4. 也是源码中没有处理的问题，epycon是支持将entries就是注释嵌入到数据文件中的，这也是非常必须的一个步骤，但是我不知道为什么epycon源码没有考虑的我们的EP WorkMate导出的数据是多个数据log分段（Dlog文件），然后共用一个entries.log（注释字段），需要将entries进行切片后嵌入到这一个个Dlog文件中。在处理过程过就碰到了unix stamp 和windows 时间格式的大坑，各种水土不服，各种错误。现在是统一转换成unix stamp然后进行时间戳对齐，然后根据标注的dlog文件file_id进行插入。具体有无bug，待后续进一步分析。目前运行正常。第五就是所谓的Head问题，源码对于头端文件的处理中，是跳过32B的头端读取后续220b一片片的数据进行后进行处理，但是根据AI的分析，是目前4.3.2 的雅培对头端格式进行了修正还是啥，头端的offset 值似乎不是32b，我测试的结果是128b。据此修改了读取方案，把跳过头端的数据重新发回给epycon库文件进行处理。这个也是非常非常大的一个坑。不知道是我的理解问题还是啥。反正之前运行各种出错。调整offset 值以后捋顺了。
二、 web-ui 的目前定位
1。采用本地服务器的web端+server的方式处理，方便处理比较大的数据。这是权衡后最合适的方案，我们的EP系统导出的文件动则上G，备份都是以DVD-CD，如果涉及成纯前端方式估计效率问题，目前的转换执行效率目前还可以，但仍需后续进一步验证和迭代。
2.目录都是通过界面选定，页面上可以指明是否嵌入注释，导联选择，WorkMate的数据格式等，目前我们的数据其实已经有相当一部分是Claris生成的，实际运行导出也没问题，估计雅培没有启用新的数据格式，offset 的猜测前面已经提了，其他还是用的PDF论文中所解析的总体方案。


暂时这些，如果后续有想到再进行补充。熬了两个晚上通宵，都是在聚餐回家再开工，然后深夜Gemini下, 各种debug。诶一言难尽

补记：缘起说明下。
不怎么会用AI coding，严格意义来说这是第一个我觉得有意义的东西，值得放上来，或许有一些做我们医学研究的可能会有把EP WorkMate系统中的电生理文件导出进行二次处理或者准备干啥，导出都是第一个天坑。事实上从我突发奇想把entries.log 记录能否导出来直接搜索开始。多次逆向工程后发现log 和数据都是用的雅培的私有协议（一开始很天真的以为是XML或者HL7 的标准格式，然后各种出错，各种乱码，后来分析发现是私有协议，也非常幸运，因为在过程中发现有国外的前辈居然有研究这个私有协议，给出了论文进行解析，然后就找到了这个epycon的项目，然后基于python 手动，一开始只是想写个YAML 的config 配置，方便使用后来就慢慢迭代到目前这个初步可用的小东西。希望搜索到这个项目的能一起交流交流。对于如何使用电生理的数据进行科研。^_^。 邮箱 tianmen@me.com 鄙人目前工作在宁波，某三甲医院心内科，为晋升苦逼科研的牛马。）

2026年1月25日补记：
- 修复 app_gui.py 第138行语法警告（无效转义序列 \\;8\\;B）
- 更新 demo.py 文件路径为 samples/study01/00000000.log
- 提交修改到 Git
- 清理临时文件（__pycache__、epycon.egg-info/ 等）
- 测试本地批量转换、演示脚本和 GUI 功能
- GUI 运行在 http://127.0.0.1:5000，支持文件上传和转换执行
- 整合 examples 和 samples 文件夹为统一的 examples/ 结构
- 添加 .gitattributes 规范化行结束符
- 创建 index.html 作为工具集入口，整合 editor.html、WorkMate Log Parser.html 和 h5_preview.html
- 添加 .vscode/tasks.json 定义运行 GUI 的任务
- 更新 README.md 添加项目结构描述
- 添加 docs/papers/ 目录用于存放相关论文 PDF
- 更新项目标题为 "WorkMate 数据处理中心"
- 发布 v0.0.2-alpha 版本
